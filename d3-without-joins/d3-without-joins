{"blocks":[{"type":"codeTool","data":{"codeData":{"value":"md`# D3 Without Joins\n\nThis [D3 bar chart](/@mbostock/d3-bar-chart) is implemented without data joins! Instead, the SVG is declared as a tagged template literal with elements derived from data by *array*.map.`","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"chart = (svg`<svg viewBox=\"0 0 ${width} ${height}\">\n  <g fill=\"steelblue\">${data.map(d => svg`\n    <rect \n      x=\"${x(d.name)}\" \n      y=\"${y(d.value)}\" \n      height=\"${y(0) - y(d.value)}\" \n      width=\"${x.bandwidth()}\"></rect>\n  `)}</g>\n  ${d3.select(svg`<g>`).call(xAxis).node()}\n  ${d3.select(svg`<g>`).call(yAxis).node()}\n</svg>`)","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"data = (d3.csvParse(await FileAttachment(\"alphabet.csv\").text(), ({letter, frequency}) => ({name: letter, value: +frequency})).sort((a, b) => b.value - a.value))","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"x = (d3.scaleBand()\n    .domain(data.map(d => d.name))\n    .range([margin.left, width - margin.right])\n    .padding(0.1))","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"y = (d3.scaleLinear()\n    .domain([0, d3.max(data, d => d.value)]).nice()\n    .range([height - margin.bottom, margin.top]))","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"xAxis = (g => g\n    .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n    .call(d3.axisBottom(x).tickSizeOuter(0)))","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"yAxis = (g => g\n    .attr(\"transform\", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y))\n    .call(g => g.select(\".domain\").remove()))","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"height = (500)","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"margin = ({top: 20, right: 0, bottom: 30, left: 40})","pinCode":false}}},{"type":"codeTool","data":{"codeData":{"value":"d3 = (require(\"d3@6\"))","pinCode":false}}}],"version":"2.19.1"}