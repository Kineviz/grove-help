{"blocks":[{"type":"codeTool","data":{"codeData":{"value":"md`# Fork, suggest, merge`","pinCode":false,"dname":"af3dc98f-9f08-45d7-98ae-12e02b66f7ac","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Grove offers asynchronous collaboration using the **Fork**, **Suggest**, and **Merge** buttons. \n- When you **Fork** a notebook, you create your own copy of a notebook, which you can then edit freely without affecting the original.\n- Clicking **Suggest** causes an email to be sent back to the original notebook's author, with a link to your fork, containing your changes.\n- The original notebook's author can then click the link in the email, view your changes, and **Merge** some or all of the changes into their original notebook.`","pinCode":false,"dname":"487896f7-57e0-454a-843c-ce129747b3c6","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"explainForks = (notice(htl.html`\nCreating a *fork* of a notebook means to make your own copy, like suddenly making a fork in the road and going your own way. This is a fundamental concept in software development, but if this idea is new to you, think of it as making a copy of a recipe. Once you have a copy, you can make changes without affecting the original‚Äîthe forked copy of the recipe is yours to save, modify, or discard as you choose.<br><br>\nIf you are uncertain about this, try it: fork an existing notebook, and compare it side-by-side with the original. You'll see that you can make changes in your fork and the original stays the same. (When you <b>want</b> to share your changes, use <b>Suggest</b>‚Äîread on in this notebook to learn more.)`))","pinCode":false,"dname":"9334291c-6239-44f7-a91f-bac40e738273","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`You can fork public notebooks, or notebooks where edit access has been shared with you. If you have been invited to only view a notebook, you will not be able to fork the notebook. In that event, the **Fork** button will not appear and \\`Fork\\` will not be a choice in the notebook menu.`","pinCode":false,"dname":"a86e8478-efed-429b-b888-585d3ea60540","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Assuming you have permission to fork a notebook, go to the notebook menu (${icon('menu')}) and click **Fork**. \n- If there is only a single possible destination for the forked notebook, the fork happens immediately, as soon as you click **Fork**.\n- If, however, you have a choice of multiple workspaces (for example, if you belong to a Team of any kind), or if you have edit permission to a notebook, then there are multiple possible combinations, and you will be shown a dialog box that enables you to specify the workspace that should receive the fork.`","pinCode":false,"dname":"4e0ade07-0a5f-4073-84b5-89281029fda0","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Here are some examples:\n- If you have only a Free Individual workspace, and fork a Public notebook, the fork is created immediately.\n- If you have only a Free Individual workspace, but are a viewer on a Team of any kind, you will not be able to fork any Team notebooks, even though you can view them.\n- If you have a Pro Individual workspace and are also a Team member, you have a choice of individual or team workspaces, and public or private (Only you) notebook visibility.`","pinCode":false,"dname":"a4575aa4-1adb-40a1-a0aa-8fb501db7d26","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`In the following example, the user Lionel Hollins, who also belongs to the Portland TrailBlazers Pro Team, can fork into either his own workspace, or the team workspace. Because the original notebook is public, the fork can also be public, or can be forked into a private version.`","pinCode":false,"dname":"1658df13-0e84-4c43-a5d2-ed6a03df4cef","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"htl.html`<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: 450px\"\n    src=${await FileAttachment(\"proIndForkingPublicNotebook.png\").url()}\n  />\n  <figcaption>Example of a Pro Individual and Pro Team member forking a public notebook. The notebook can go into either of the user's available workspaces, and can be public or private.</figcaption>\n</figure>`","pinCode":false,"dname":"e3698cca-bc12-479a-bc1e-8b11b4352718","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`However, if the original notebook were Private but shared with Lionel Hollins, even with edit permission, forking is not available.`","pinCode":false,"dname":"b5d1fba7-1616-43ac-aab9-229fa108c7b3","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md` so a dialog box appears asking you to configure the forked notebook:\n  - On a Public notebook, still has a choice of Public or Private, so dialog box appears.\n  - On a Private notebook, there is no option to fork (private notebooks remain private)\n- Free Team\n  - Only Public notebooks visible\n  - User can fork to his own workspace, or to the Team workspace\n  - Visibility limited to Public\n  - Role of team member does not appear to make a difference\n- Pro Team\n  - Public and private notebooks visible\n  - Public notebooks can be forked to any workspace available to the user\n  - Private notebooks can only be forked to their existing workspace\n`","pinCode":false,"dname":"389d32e8-923d-4c48-befe-91a79f4845a3","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`General rules about forking:\n- You cannot fork a notebook into having more visibility than the original.\n- You cannot fork a private notebook into your own public notebook, even if you have permission to edit the original.\n- You can only fork into workspaces that you belong to.\n- Private notebooks, if they can be forked at all, can only be forked into the workspace they are in.\n- Your role matters:\n  - A viewer can fork public notebooks (fork happens immediately).\n  - A viewer cannot fork shared private notebooks (can see but not fork).\n  - A viewer cannot fork team notebooks (can see but not fork).`","pinCode":false,"dname":"ef85ab7b-89d5-4b42-b3f6-ef531497bc27","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Click **Fork** on the dialog box to create the fork. After confirming, you have your own forked notebook to modify or experiment with.`","pinCode":false,"dname":"df804040-f819-4891-ac10-5a611cc47151","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Now, after making changes in the fork, you might want to **Suggest** those changes back to the original author. Here is an example of how that works. `","pinCode":false,"dname":"a37495ba-5d2e-4d0d-8401-ac9f2b4e73be","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Let's say we have a published notebook (originally from Grove emeritus Jeremy Ashkenas) mapping life expectancy around the world.`","pinCode":false,"dname":"f0045e82-892d-4039-b1dd-c10382901f6b","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`<figure>${await FileAttachment(\"jeremys_published_choropleth.png\").image()}<figcaption>Published notebook with choropleth of global life expectancy.</figcaption></figure>\n\nAlthough the map is good, our colleague Peaches notices that it is using a custom slider, as opposed to the [range input](https://observablehq.com/@observablehq/input-range) that now is available in Observable.`","pinCode":false,"dname":"352b2d7a-e309-499a-8049-d9c4c73a84c2","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`### 1. Fork to make changes.\n\nPeaches wants to use the newer way of doing things, so she forks the original notebook and then edits the code to use Inputs.range.\n\n<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: width\"\n    src=${await FileAttachment(\"choropleth_change_to_Inputs.range.png\").url()}\n  />\n  <figcaption>The original notebook is changed.</figcaption>\n</figure>`","pinCode":false,"dname":"1017e944-f35c-4c69-b427-70b238d01cc2","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`### 2. Use **Suggest** to share your changes.\n\nPeaches likes her improvements. Rather than keep them to herself, she clicks **Suggest** in the notebook menu. This sends us an email containing a link to Peaches's fork.\n`","pinCode":false,"dname":"10700f46-b782-4d3f-b235-d40e95010c9f","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"html`\n<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: 225px\"\n    src=${await FileAttachment(\"suggest_menu.png\").url()}\n  />\n  <figcaption>The <b>Suggest</b> menu item appears under the notebook menu (${icon('menu')}).</figcaption>\n</figure>\n`","pinCode":false,"dname":"91dc81e9-7b4b-48f9-a74f-a9acf22c5def","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`### 3. The original author clicks View Suggestion to view the suggestions in the fork.`","pinCode":false,"dname":"c18c9496-24de-48dd-b96e-2bf1047aa7df","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"html`\n<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: width\"\n    src=${await FileAttachment(\"choropleth_suggestion_email.png\").url()}\n  />\n  <figcaption>Click <b>View Suggestion</b> to see the forked notebook and the suggested changes.</figcaption>\n</figure>\n`","pinCode":false,"dname":"221325d0-0852-4f67-bd85-786f8e12b4c5","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`### 4. The original author reviews and Merges the suggested changes.\n\nAfter clicking **View Suggestion** we see the forked notebook, with the additions and deletions clearly marked.`","pinCode":false,"dname":"8111feb3-43ad-437d-838f-4a6a85ad1fd2","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"html`\n<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: width\"\n    src=${await FileAttachment(\"choropleth_suggestion.png\").url()}\n  />\n  <figcaption>The suggested changes are marked: deletions in red; additions in green.</figcaption>\n</figure>\n`","pinCode":false,"dname":"4f439a9e-2850-482f-8c5e-cc1d5da874fd","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`We can toggle the **Parent** and **Fork** in each cell to evaluate the changes. We can even edit a cell to make further changes.\n\nThe changes look good, so we click **Merge 1 change** at the top, in the blue banner. A modal asks us to confirm.`","pinCode":false,"dname":"e7c9e877-8d04-4346-9bd3-9ed87c103a65","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"html`\n<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: 500px\"\n    src=${await FileAttachment(\"merge_confirm.png\").url()}\n  />\n</figure>\n`","pinCode":false,"dname":"49e9f250-aecb-49d1-8a80-fc903ec05e44","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Peaches‚Äôs change is now applied to the original notebook! (If we had made any other changes, the blue banner would say **Merge *N* changes** and those changes would be merged as well.)`","pinCode":false,"dname":"a0748289-af17-4d38-b6af-52fc6529f629","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"noteSuggestions = (notice(htl.html`\nTo read even more detail about accepting or discarding individual changes, see <a href=https://observablehq.com/@observablehq/suggestions-and-comments>Suggestions.</a>`))","pinCode":false,"dname":"440d2749-8c65-4b96-8f5d-74804f583b5a","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`### 4. Republish. üéâ\n\nWe're not quite done: Peaches‚Äôs change was applied, but is only visible to us. By clicking **Republish**, the change becomes visible to everyone.`","pinCode":false,"dname":"eef4b7c7-66d5-4720-957d-143fff631c45","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"html`\n<figure>\n  <img\n    style=\"border-radius:2px;box-shadow:0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);margin-left:27px;margin-bottom:40px;max-width: width\"\n    src=${await FileAttachment(\"republish_with_choropleth.png\").url()}\n  />\n<figcaption>Don't forget to click **Republish** to share the merged changes.</figcaption></figure>\n</figure>\n`","pinCode":false,"dname":"e046d3d3-7fc1-4f2f-8b1f-6b04611fe982","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`We hope you‚Äôll agree that this collaborative way of working can help you and your colleagues. The ability for anyone to suggest changes, and for authors to merge changes quickly and accurately, has been essential to the success of open source: if you remove the friction of collaboration, people will work together! `","pinCode":false,"dname":"b76ee238-7a8a-40a6-9142-12bbf41b46e5","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`The next time you find yourself reading a notebook and thinking, ‚ÄúI could offer a suggestion to that,‚Äù don‚Äôt keep that thought to yourself. **Fork, suggest, and merge!**`","pinCode":false,"dname":"62b1589c-1f2e-46ac-b212-a2d42381ef31","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`### 5. Epilogue: Updating a Fork.\n\nSometimes, while you‚Äôre working on a fork of a notebook, the parent notebook will have been updated with new changes. To view, select and merge in recent changes from the parent into the fork, click on ‚ÄúCompare reverse‚Äù in the notebook menu.\n\n\n<figure>${Object.assign(await FileAttachment(\"update-fork.png\").image(), { style: 'max-width: 350px' })}<figcaption>Compare reverse.</figcaption></figure>`","pinCode":false,"dname":"9838cd0a-e8b9-4cb8-a62e-54b2a5a7cb46","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Thanks to [Jeremy Ashkenas](https://observablehq.com/@jashkenas) for his [original notebook](/@jashkenas/world-life-expectancy-1960-2016).`","pinCode":false,"dname":"41baa50d-7756-4aa1-9214-5f3d4a6fe429","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`---`","pinCode":false,"dname":"41fd4a0d-356d-4612-bf8b-dd41bb5a5508","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`## Appendix`","pinCode":false,"dname":"9f23f313-9a44-411f-916c-cb6832852f5f","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"icon = (function icon(name) {\n  switch (name) {\n    case 'cell menu':\n      return svg`<svg viewBox=\"0 0 8 14\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" width=\"8\" height=\"14\"><circle r=\"1.5\" cx=\"4\" cy=\"2\"></circle><circle r=\"1.5\" cx=\"4\" cy=\"7\"></circle><circle r=\"1.5\" cx=\"4\" cy=\"12\"></circle></svg>`;\n    case 'menu':\n      return svg`<svg style=\"margin: 0 .25rem;\" viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" width=\"16\" height=\"16\"><circle r=\"2\" cy=\"8\" cx=\"2\"></circle><circle r=\"2\" cy=\"8\" cx=\"8\"></circle><circle r=\"2\" cy=\"8\" cx=\"14\"></circle></svg>`;\n  }\n})","pinCode":false,"dname":"9cf8c60d-dc75-47a7-bee8-2b2c14fef5a4","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"notice = ((contents) => htl.html`\n<div style=${{border: \"1px solid rgba(0, 0, 0, 0.05)\", padding: \"0.8rem\", fontFamily: \"var(--sans-serif)\", fontSize: \"smaller\", maxWidth: \"640px\", borderRadius: \"4px\", font: \"13px/1.5em var(--sans-serif)\", color: \"#444\", boxSizing: \"border-box\", background: \"hsl(55deg 80% 98%)\"}}>\n  ${contents}\n</div>\n`)","pinCode":false,"dname":"51a745df-035d-44f2-aa71-2d88a5f5fa76","codeMode":"javascript2"}}}],"version":"2.19.1"}