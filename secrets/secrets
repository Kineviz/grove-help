{"blocks":[{"type":"codeTool","data":{"codeData":{"value":"md`# Introduction to Secrets\n\nGrove is a collaborative programming environment—for reading, sharing, forking, importing—but it’s also for private work. The **Secrets** feature makes it easier to securely access private data and APIs on Grove. This feature lets you analyze or visualize private data while keeping your secrets, well, *secret*.\n\nSecrets are name-value pairs, similar to environment variables, that you can specify [in your settings](/settings/secrets).\n\n<figure><img src=\"${await FileAttachment(\"image.png\").url()}\"><figcaption>The Secrets tab, under Settings.</figcaption></figure>\n\nFor example, say you want to talk to the Cloudflare API. Add a secret named \\`CLOUDFLARE_API_KEY\\` whose value is your API key (here \\`0123456789abcdef\\`, which for obvious reasons is not a real key). To access your key from a notebook, say:`","pinCode":false,"dname":"62905740-c928-4a45-af41-052f4e639102","codeMode":"javascript2","vimEnabled":false,"insertMode":false}}},{"type":"codeTool","data":{"codeData":{"value":"Secret(\"CLOUDFLARE_API_KEY\")","pinCode":false,"dname":"7269fa26-1349-4188-8fb8-17eab4fb5c50","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`The \\`Secret\\` function takes a single argument, the *name* of the secret, and returns the *value* of the corresponding secret if it exists. If the secret doesn’t exist, then the \\`Secret\\` function instead throws an error.`","pinCode":false,"dname":"9adfa607-7d10-4901-9b8a-ec2da5de30ed","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"Secret(\"DOES_NOT_EXIST\")","pinCode":false,"dname":"9b3d86e7-2bfa-425c-a4fb-a44e29cad829","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Only your private notebooks (which are only readable by you) can access your secrets—that’s why they’re secret! If you share or publish a notebook, it won’t be able to access secrets: any cell that references the \\`Secret\\` function will error.\n\nYou must explicitly grant permission for a notebook to access your secrets. The first time you ask for a secret from your private notebook, you’ll see a confirmation dialog asking for permission to access your secrets. This extra step protects you when you fork or import someone else’s notebook into your private notebook. If you don’t trust the code, don’t give it your secrets!`","pinCode":false,"dname":"58e03faf-f9a7-4946-9a65-30961f87e4df","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`---\n\n## Appendix`","pinCode":false,"dname":"171b44db-5fa9-452a-a17b-95a8078931c0","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"Secret = (function Secret(name) {\n  switch (name) {\n    case \"CLOUDFLARE_API_KEY\": return \"0123456789abcdef\";\n    default: throw new Error(\"secret not found\");\n  }\n})","pinCode":false,"dname":"3597aaae-2597-438a-a3ad-f2c20f64cb66","codeMode":"javascript2"}}}],"version":"2.19.1"}