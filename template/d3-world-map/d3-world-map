{"blocks":[{"type":"codeTool","data":{"codeData":{"value":"md`# D3 world map`","pinCode":false,"dname":"8a7b461e-8230-4f72-a01f-d5508b3703de","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"map = (htl.html`<svg viewBox=\"0 0 ${width} ${height}\" style=\"display: block;\">\n    <path d=\"${path(outline)}\" fill=\"#fff\"></path>\n    <path d=\"${path(graticule)}\" stroke=\"#ccc\" fill=\"none\"></path>\n    <path d=\"${path(land)}\"></path>\n    <path d=\"${path(borders)}\" fill=\"none\" stroke=\"#fff\"></path>\n    <path d=\"${path(outline)}\" fill=\"none\" stroke=\"#000\"></path>\n</svg>`)","pinCode":false,"dname":"af10c877-7b28-4eb9-ac49-765ebbb3c79e","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"projection = (d3.geoEqualEarth())","pinCode":false,"dname":"d63f9f90-5e9d-440a-ad35-1133e79a0fff","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Many other projections are available. [Browse them here](https://observablehq.com/collection/@d3/d3-geo-projection).`","pinCode":false,"dname":"d215c82f-5430-4fdf-90c3-29ed68b63cf4","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"path = (d3.geoPath(projection))","pinCode":false,"dname":"1338ddba-386b-4480-bd0e-d45fe17f7b76","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"height = {\n  const [[x0, y0], [x1, y1]] = d3.geoPath(projection.fitWidth(width, outline)).bounds(outline);\n  const dy = Math.ceil(y1 - y0), l = Math.min(Math.ceil(x1 - x0), dy);\n  projection.scale(projection.scale() * (l - 1) / l).precision(0.2);\n  return dy;\n}","pinCode":false,"dname":"28238f73-51fb-49f2-b299-12e956de3508","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"outline = ({type: \"Sphere\"})","pinCode":false,"dname":"14e694ce-f4fc-4b8f-951b-9cfe6b47daf1","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"graticule = (d3.geoGraticule10())","pinCode":false,"dname":"29610618-c7c5-4f01-b835-b00881451c6c","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"land = (topojson.feature(world, world.objects.land))","pinCode":false,"dname":"0d3331eb-8e93-47cd-83ae-dcd5e6530f7b","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"borders = (topojson.mesh(world, world.objects.countries, (a, b) => a !== b))","pinCode":false,"dname":"4ef9925c-5c74-4a86-908a-15e16c9e83f5","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"world = (FileAttachment(\"countries-50m.json\").json())","pinCode":false,"dname":"a0281af7-2d60-4f0b-85ad-77d18881cd15","codeMode":"javascript2"}}}],"version":"2.19.1"}