{"blocks":[{"type":"codeTool","data":{"codeData":{"value":"md`# Debouncing Input`","pinCode":false,"dname":"2bf33660-7820-4292-b76d-55daa28f2a5c","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"viewof input = (html`<input placeholder=\"Type some text here.\">`)","pinCode":false,"dname":"b67dfb7d-bf47-4fce-8f57-b9b3f0ba7bcd","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Non-debounced input:`","pinCode":false,"dname":"a405b83d-d28b-4688-bec6-2cc545737130","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"input","pinCode":false,"dname":"73832497-3bde-4846-8ada-6868252b2176","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`Debounced input:`","pinCode":false,"dname":"d5efaf4d-944e-4cd8-a39c-0bc53e34a785","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"debounce(viewof input)","pinCode":false,"dname":"0d4b3067-3c48-4f74-b8d8-ec735ce79d5f","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"md`A function for debouncing input:`","pinCode":false,"dname":"0b41e56d-a4f6-4c91-a97b-6d04b61f6586","codeMode":"javascript2"}}},{"type":"codeTool","data":{"codeData":{"value":"debounce = (function debounce(input, delay = 1000) {\n  return Generators.observe(notify => {\n    let timer = null;\n    let value;\n\n    // On input, check if we recently reported a value.\n    // If we did, do nothing and wait for a delay;\n    // otherwise, report the current value and set a timeout.\n    function inputted() {\n      if (timer !== null) return;\n      notify(value = input.value);\n      timer = setTimeout(delayed, delay);\n    }\n\n    // After a delay, check if the last-reported value is the current value.\n    // If itâ€™s not, report the new value.\n    function delayed() {\n      timer = null;\n      if (value === input.value) return;\n      notify(value = input.value);\n    }\n\n    input.addEventListener(\"input\", inputted), inputted();\n    return () => input.removeEventListener(\"input\", inputted);\n  });\n})","pinCode":false,"dname":"c35272f6-ac1f-407f-aa08-4e575ffe4332","codeMode":"javascript2"}}}],"version":"2.19.1"}